---
title: State֊ի Կառավարում
type: ուղեցույց
order: 502
---

## Պաշտոնական Flux֊ին նման Տեղադրում

Մեծ ծրագրերը հաճախ աճում են բարդությամբ, բազմաթիվ state֊ի մասերի պատճառով որոնք ցրված են բազմաթիվ կոմպոնենտներում և նրանց շփման միջև։ Որպեսզի լուծել այս խնդիրը, Vue֊ն առաջարկում է [vuex֊ը](https://github.com/vuejs/vuex)․ մեր անհատական Elm֊ով ոգեշնչված state֊ի կառավարման գրադարանը։ Այն նույնիսկ ինտեգրվում է դեպի [vue-devtools](https://github.com/vuejs/vue-devtools), տրամադրելով զրոյական տեղադրման մուտք դեպի [time travel debugging](https://raw.githubusercontent.com/vuejs/vue-devtools/master/media/demo.gif)։

<div class="vue-mastery"><a href="https://www.vuemastery.com/courses/mastering-vuex/intro-to-vuex/" target="_blank" rel="sponsored noopener" title="Vuex֊ի Դաս">Դիտեք այս բացատրող տեսանյութը Vue Mastery֊ում</a></div>

### Ինֆորմացիա React֊ի Ծրագրավորողների Համար

Եթե դուք գալիս եք React֊ից, դուք կհետաքրքրվեք թե ինչպես է vuex֊ը համեմատվում [redux֊ի](https://github.com/reactjs/redux) հետ, ամենահայտնի Flux֊ի կիրառումը այդ էկոհամակարգում։ Redux֊ը իրականում տեսաշերտային ագնոստիկ է, այնպես որ այն կարող է հեշտորեն օգտագործվել Vue֊ի հետ օգտագործելով [հասարակ կապումներ](https://classic.yarnpkg.com/en/packages?q=redux%20vue&p=1)։ Vuex֊ը տարբերվում է դրանով այն _գիտի_ որ այն գտնվում է Vue֊ի ծրագրում։ Սա թույլ է տալիս ավելի լավ ինտեգրացնել Vue֊ի հետ, տրամադրելով ավելի ինտուիտիվ API և կատարելագործված զարգացման փորձառություն։

## Հասարակ State֊ի Կառավարում Զրոյից

Շատ հաճախ վերանայվում է որ սկզբնական տվյալները Vue ծրագրերում դա անմշակ `data` օբյեկտն է - Vue֊ի instance֊ը միայն տրամադրում է նրան միակողմանի մուտք։ Որից դատելով, եթե դուք ունեք state-ի որևէ կտոր որը պետք է տարածվի բազմաթիվ instance֊ներով, դուք կարող եք տարածել նրան օգտագործելով իր ինքնությունը։

``` js
var sourceOfTruth = {}

var vmA = new Vue({
  data: sourceOfTruth
})

var vmB = new Vue({
  data: sourceOfTruth
})
```

Հիմա երբ `sourceOfTruth`֊ը մուտացիայի է ենթարկվում, `vmA`֊ն և `vmB`֊ն կթարմացնեն նրանց տեսադաշտերը ավտոմատ կերպով։ Սուբկոմպոնենտները այս instance֊ների ներքո նույնպես ունեն մուտք օգտագործելով `this.$root.$data`։ Մենք այս պահին ունենք միայն մեկ սկզբնաղբյուր, բայց debugging֊ը կլինի մղձավանջ։ Ցանկացած մաս տվյալների կարող է փոփոխվել մեր ծրագրի ցանկացած մասի կողմից ցանկացած ժամանակ, առանց հետքեր թողնելով։

Որպեսզի լուծենք այս խնդիրը, մենք կարող ենք ադապտացնենք **store pattern**֊ը․

``` js
var store = {
  debug: true,
  state: {
    message: 'Բարև'
  },
  setMessageAction (newValue) {
    if (this.debug) console.log('setMessageAction triggered with', newValue)
    this.state.message = newValue
  },
  clearMessageAction () {
    if (this.debug) console.log('clearMessageAction triggered')
    this.state.message = ''
  }
}
```

Եթե նկատեք բոլոր գործողությունները որոնք մուտացիայի են ենթարկում store֊ի state֊ը տեղադրում են store֊ի ներսում։ Այս տիպը կենտրոնացված state֊ի կառավարման դարձնում է ավելի հեշտ որպեսզի հասկանալ թէ ինչ տիպի մուտացիաներ կարող են լինել երբ նրանք արձակված են։ Հիմա երբ որևէ բան կձախողվի, մենք նաև ունենք log թէ ինչ է կատարվել նախքան ձախողվելը։

Ի հավելումն, ամեն instance/կոմպոնենտ կարող է ունենալ և կառավարել իր անձնական state֊ը․

``` js
var vmA = new Vue({
  data: {
    privateState: {},
    sharedState: store.state
  }
})

var vmB = new Vue({
  data: {
    privateState: {},
    sharedState: store.state
  }
})
```

![State֊ի Կառավարում](/images/state.png)

<p class="tip">Կարևոր է նշել որ դուք չպետք է փոխարինեք սկզբնական state օբյեկտը ձեր գործողություններում - կոմպոնենտները և store֊ը պետք է ունենան նույն օբյեկտին դիմելու միջոց որպեսզի մուտացիաները դիտարկվեն։</p>

Մինչ մենք շարունակում ենք զարգացնելու հարմարանքը որտեղ կոմպոնենտները չպետք է կարողանան ուղիղ մուտացիայի ենթարկել state֊ը որը պատկանում է store֊ին, բայց փոխարենը արձակեն event֊ներ որոնք տեղյակ են պահում store֊ին որպեսզի կատարել գործողություններ, մենք ի վերջո հասնում ենք [Flux֊ի](https://facebook.github.io/flux/) ճարտարապետությանը։ Այս հարմարության օգուտը դա որ մենք կարող ենք գրանցել բոլոր state֊ի մուտացիաները որոնք կատարվում են store֊ին և տեղադրել ավելի զարգացած debugging֊ի օգնականներ ինչպիսիք են մուտացիայի log֊երը, snapshot֊երը, և պատմության վերականգնումը / ժամանակի ծամփորդումը։

Սա վերադարձնում է մեզ հետ դեպի [vuex](https://github.com/vuejs/vuex), այնպես որ եթե դուք կարդացել եք այսքանը ուրմեն ժամանակն է փորձելու այն՜
